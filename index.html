<!DOCTYPE html>
<html>
<head>
	<title>DAT OS</title>
	<style>
	* { margin:0; padding:0; box-sizing:border-box; font-family:monospace; }
	html,body { width:100%; height:100%; background:black; user-select:none; }
	#Screen {
		background: black;
		width: 1080px;
		height: 720px;
		position: absolute;
		top: 50%; left: 50%;
		transform: translate(-50%, -50%);
		overflow:hidden;
	}
	.window {
		position:absolute;
		background:#111;
		border:2px solid #444;
		color:white;
	}
	.titlebar {
		background:linear-gradient(orange,yellow,orange);
		height:32px; line-height:32px;
		padding:0 10px;
		font-size:18px;
		position:relative;
	}
	.closebtn {
		position:absolute; right:4px; top:4px;
		width:24px; height:24px;
		text-align:center; line-height:24px;
		cursor:pointer; border-radius:50%;
		background:radial-gradient(rgb(40,0,0),red);
	}
	.content { padding:10px; overflow:auto; }
	.icon {
		width:64px; text-align:center; color:white; cursor:pointer;
		margin:10px; display:inline-block;
	}
	</style>
</head>
<body>
<div id="Screen"></div>

<script>
let StartMenuShown=false, ChangeLoginOpen=false;

window.onload=function(){
	if(localStorage.getItem("LoginInfoShown")==null){
		localStorage.setItem("LoginInfoShown","false");
	}
	if(localStorage.getItem("LoginInfoShown")=="false"){ LoginInfo(); }
	else { Login(); }
	if(!localStorage.getItem("Username")) localStorage.setItem("Username","Admin");
	if(!localStorage.getItem("Password")) localStorage.setItem("Password","Admin");
};

function LoginInfo(){
	let Screen=document.getElementById("Screen");
	let box=document.createElement("div");
	box.className="window"; box.style.width="500px"; box.style.height="400px";
	box.style.top="50%"; box.style.left="50%"; box.style.transform="translate(-50%,-50%)";
	box.style.background="orange"; box.id="LoginWindow";
	Screen.appendChild(box);
	box.innerHTML=`<div style="font-size:40px;text-align:center;margin-top:25px">User name: Admin</div>
	<div style="font-size:40px;text-align:center;">Password: Admin</div>
	<div id="okbtn" style="position:absolute;bottom:25px;left:50%;transform:translateX(-50%);
	width:200px;height:50px;line-height:50px;font-size:34px;text-align:center;background:red;cursor:pointer;">OK</div>`;
	document.getElementById("okbtn").onclick=Login;
	localStorage.setItem("LoginInfoShown","true");
}

function Login(){
	if(document.getElementById("LoginWindow")) document.getElementById("LoginWindow").remove();
	let Screen=document.getElementById("Screen");
	let box=document.createElement("div");
	box.className="window"; box.style.width="500px"; box.style.height="400px";
	box.style.top="50%"; box.style.left="50%"; box.style.transform="translate(-50%,-50%)";
	box.style.background="orange"; box.id="LoginWindow";
	Screen.appendChild(box);
	box.innerHTML=`<div style="font-size:40px;margin:25px;">User name:</div>
	<div style="font-size:40px;margin:10px 25px;">Password:</div>
	<input id="LoginWindowInputOne" style="position:absolute;top:25px;left:275px;width:200px;height:55px;font-size:40px;background:#222;color:white;">
	<input id="LoginWindowInputTwo" type="password" style="position:absolute;top:90px;left:275px;width:200px;height:55px;font-size:40px;background:#222;color:white;">
	<div id="okbtn2" style="position:absolute;bottom:25px;left:50%;transform:translateX(-50%);
	width:200px;height:50px;line-height:50px;font-size:34px;text-align:center;background:red;cursor:pointer;">OK</div>`;
	document.getElementById("okbtn2").onclick=SubmitLogin;
}

function SubmitLogin(){
	let u=document.getElementById("LoginWindowInputOne").value;
	let p=document.getElementById("LoginWindowInputTwo").value;
	let su=localStorage.getItem("Username")||"Admin";
	let sp=localStorage.getItem("Password")||"Admin";
	if(u===su && p===sp){
		document.getElementById("LoginWindow").remove();
		Desktop();
	}else{ WrongLogin(); }
}

function WrongLogin(){
	let Screen=document.getElementById("Screen");
	if(document.getElementById("LoginWindowWarning")) return;
	let box=document.createElement("div");
	box.className="window"; box.style.width="500px"; box.style.height="200px";
	box.style.top="50%"; box.style.left="50%"; box.style.transform="translate(-50%,-50%)";
	box.style.background="red"; box.id="LoginWindowWarning";
	Screen.appendChild(box);
	box.innerHTML=`<div style="font-size:30px;text-align:center;margin-top:40px">Wrong user name or password.</div>
	<div id="warnok" style="position:absolute;bottom:20px;left:50%;transform:translateX(-50%);
	width:200px;height:50px;line-height:50px;font-size:30px;text-align:center;background:orange;cursor:pointer;">OK</div>`;
	document.getElementById("warnok").onclick=function(){box.remove()};
}

function Desktop(){
	let Screen=document.getElementById("Screen");
	let desk=document.createElement("div");
	desk.id="Desktop"; desk.style.width="1080px"; desk.style.height="680px";
	desk.style.background="url(Untitled2.jpg) center/cover no-repeat";
	Screen.appendChild(desk);

	// Taskbar
	let task=document.createElement("div");
	task.style.position="absolute"; task.style.bottom="0";
	task.style.width="1080px"; task.style.height="40px";
	task.style.background="linear-gradient(black,#222,black)";
	desk.appendChild(task);

	let startbtn=document.createElement("div");
	startbtn.style.width="40px"; startbtn.style.height="40px";
	startbtn.style.background="radial-gradient(red,darkred,red)";
	startbtn.style.borderRadius="20px"; startbtn.style.cursor="pointer";
	startbtn.onclick=ShowOrHideStartMenu;
	task.appendChild(startbtn);

	let clock=document.createElement("div");
	clock.id="DateAndTime";
	clock.style.position="absolute"; clock.style.right="0";
	clock.style.width="110px"; clock.style.height="40px"; clock.style.textAlign="center";
	clock.style.background="linear-gradient(red,darkred,red)";
	clock.style.fontSize="14px"; clock.style.color="white";
	task.appendChild(clock);
	setInterval(UpdateDateAndTime,1000); UpdateDateAndTime();

	// Start Menu
	let menu=document.createElement("div");
	menu.id="StartMenu"; menu.style.position="absolute"; menu.style.bottom="40px";
	menu.style.width="300px"; menu.style.height="400px";
	menu.style.background="linear-gradient(45deg,red,darkred,red)";
	menu.style.display="none"; menu.style.color="white"; menu.style.padding="10px";
	desk.appendChild(menu);

	let opts=[
		["Change Login",OpenChangeLogin],
		["Calculator",OpenCalculator],
		["Notes",OpenNotes],
		["Clicker Game",OpenGame]
	];
	for(let [name,fn] of opts){
		let d=document.createElement("div"); d.innerText=name;
		d.style.padding="6px"; d.style.cursor="pointer";
		d.onclick=function(){ ShowOrHideStartMenu(); fn(); };
		menu.appendChild(d);
	}
}

function ShowOrHideStartMenu(){
	let m=document.getElementById("StartMenu");
	if(m.style.display=="none"){ m.style.display="block"; }
	else m.style.display="none";
}

function UpdateDateAndTime(){
	let d=new Date();
	let h=("0"+d.getHours()).slice(-2);
	let m=("0"+d.getMinutes()).slice(-2);
	let s=("0"+d.getSeconds()).slice(-2);
	let day=("0"+d.getDate()).slice(-2);
	let mon=("0"+(d.getMonth()+1)).slice(-2);
	let y=d.getFullYear();
	document.getElementById("DateAndTime").innerText=`${h}:${m}:${s}\n${day}.${mon}.${y}`;
}

// --- Change Login
function OpenChangeLogin(){
	if(document.getElementById("ChangeLogin")) return;
	let desk=document.getElementById("Desktop");
	let win=document.createElement("div"); win.className="window";
	win.id="ChangeLogin"; win.style.width="500px"; win.style.height="300px";
	win.style.top="100px"; win.style.left="200px"; win.style.background="#111"; win.style.color="white";
	desk.appendChild(win);
	win.innerHTML=`<div class="titlebar">Change Login<div class="closebtn">×</div></div>
	<div class="content">
	<p>User name: <input id="newUser" style="width:200px;background:#222;color:white;"></p>
	<p>Password: <input id="newPass" type="password" style="width:200px;background:#222;color:white;"></p>
	<button id="saveLogin">Save</button>
	</div>`;
	win.querySelector(".closebtn").onclick=()=>win.remove();
	document.getElementById("saveLogin").onclick=function(){
		let u=document.getElementById("newUser").value;
		let p=document.getElementById("newPass").value;
		if(u&&p){ localStorage.setItem("Username",u); localStorage.setItem("Password",p);
			alert("Saved! Log out to apply."); win.remove(); }
		else alert("Both fields required");
	};
}

// --- Calculator
function OpenCalculator(){
	if(document.getElementById("Calc")) return;
	let desk=document.getElementById("Desktop");
	let win=document.createElement("div"); win.className="window";
	win.id="Calc"; win.style.width="300px"; win.style.height="400px";
	win.style.top="50px"; win.style.left="50px"; win.style.background="#222";
	desk.appendChild(win);
	win.innerHTML=`<div class="titlebar">Calculator<div class="closebtn">×</div></div>
	<div class="content"><input id="calcdisp" style="width:260px;height:40px;font-size:20px;background:black;color:white;" readonly><br>
	<div id="buttons"></div></div>`;
	win.querySelector(".closebtn").onclick=()=>win.remove();
	let buttons="789/456*123-0.=+";
	let cont=win.querySelector("#buttons");
	for(let ch of buttons){
		let b=document.createElement("button"); b.innerText=ch;
		b.style.width="60px"; b.style.height="40px"; b.style.margin="5px";
		b.onclick=function(){
			let disp=document.getElementById("calcdisp");
			if(ch=="="){ try{ disp.value=eval(disp.value); }catch{disp.value="Err"} }
			else disp.value+=ch;
		};
		cont.appendChild(b);
	}
	let clear=document.createElement("button"); clear.innerText="C";
	clear.style.width="60px"; clear.style.height="40px"; clear.onclick=()=>document.getElementById("calcdisp").value="";
	cont.appendChild(clear);
}

// --- Notes
function OpenNotes(){
	if(document.getElementById("Notes")) return;
	let desk=document.getElementById("Desktop");
	let win=document.createElement("div"); win.className="window";
	win.id="Notes"; win.style.width="500px"; win.style.height="400px";
	win.style.top="150px"; win.style.left="100px"; win.style.background="#222";
	desk.appendChild(win);
	win.innerHTML=`<div class="titlebar">Notes<div class="closebtn">×</div></div>
	<div class="content"><textarea id="notearea" style="width:100%;height:300px;background:black;color:white;"></textarea>
	<br><button id="savenote">Save</button></div>`;
	win.querySelector(".closebtn").onclick=()=>win.remove();
	document.getElementById("notearea").value=localStorage.getItem("Notes")||"";
	document.getElementById("savenote").onclick=function(){
		localStorage.setItem("Notes",document.getElementById("notearea").value);
		alert("Saved!");
	};
}

// --- Simple Game
function OpenGame(){
	if(document.getElementById("Game")) return;
	let desk=document.getElementById("Desktop");
	let win=document.createElement("div"); win.className="window";
	win.id="Game"; win.style.width="300px"; win.style.height="300px";
	win.style.top="200px"; win.style.left="200px"; win.style.background="#222";
	desk.appendChild(win);
	win.innerHTML=`<div class="titlebar">Clicker<div class="closebtn">×</div></div>
	<div class="content" style="text-align:center">
	<p>Score: <span id="score">0</span></p>
	<button id="clickme" style="width:100px;height:100px;font-size:20px">Click!</button>
	</div>`;
	win.querySelector(".closebtn").onclick=()=>win.remove();
	let score=0;
	document.getElementById("clickme").onclick=function(){
		score++; document.getElementById("score").innerText=score;
	};
}
</script>
</body>
</html>
